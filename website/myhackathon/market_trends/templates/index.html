<!DOCTYPE HTML>
<html>
  <head>
    <title>MyHackathon</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="nav-bar-style.css">
  <link rel="stylesheet" href="general.css">
	<script>
      window.onload = function() {
              document.getElementById("get_radar").addEventListener('click', function(){
                      let dict = {};
                      let cur_name = '';
                      for (i of document.getElementById("specialisations_box").children) {
                              if (i.nodeName.toLowerCase() == "input" && i.getAttribute("type") == "text")
                                cur_name = i.value;
                              if (i.nodeName.toLowerCase() == "input" && i.getAttribute("type") == "number")
                                dict[cur_name] = i.value;
                            }
                      console.log(dict);
                      location.replace("radar_chart?data=" + JSON.stringify(dict));
                    });
              document.getElementById("add_more").addEventListener('click', function(){
                      let newline = document.createElement("br");

                      let label = document.createElement("label");
                      label.innerText = "Specialisation";

                      let textbox = document.createElement("input");
                      textbox.setAttribute("type", "text");
                      document.getElementById("specialisations_box").appendChild(label);
                      document.getElementById("specialisations_box").appendChild(textbox);
                      document.getElementById("specialisations_box").appendChild(newline.cloneNode());
                      document.getElementById("specialisations_box").appendChild(newline.cloneNode());
                      let label2 = document.createElement("label");
                      let textbox2 = document.createElement("input");
                      label2.innerText = "Skill Level";
                      textbox2.setAttribute("type", "number");
                      document.getElementById("specialisations_box").appendChild(label2);
                      document.getElementById("specialisations_box").appendChild(textbox2);
                      document.getElementById("specialisations_box").appendChild(newline.cloneNode());
                      document.getElementById("specialisations_box").appendChild(newline.cloneNode());
                      // Bad practice but I'm in a hurry.

                      /*document.getElementById("specialisations_box").innerHTML += `

      <label>Specialisation</label>
      <input type="text"><br><br>
      <label>Skill Level</label>
      <input type="number"><br><br>

     `;*/
                    });
            };
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">Job.MY</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Jobs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Search</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Skills</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Demand</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Profile</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">About</a>
        </li>
      </ul>
    </div>
    </nav>
  <div class="container">
    <h1 class="display-4">Line chart</h1>
    <p>Click <a href="line_chart?title=DemandFoodProduction&data[]=267.3&data[]=266.5&data[]=266.4&data[]=265.2&data[]=264.4&data[]=267.9&data[]=272.9&data[]=270.8&data[]=270.5&data[]=272.0&data[]=274.4">here</a> to see what the trend is like for the "Food Production" demand. 
    </p>
    <p>
  The source is Department of Statistics malaysia eStatistik, Labour Market Review, Malaysia, Q3 2020. Ideally an automated system
  would retrieve this, eStatistik does not provide an API (scraping the page manually is possible, can be done in the future,
  but may not seem ethical and will be prone to breakage when the layout of the website or data presentation changes, and
  would require scraping the PDF for the data that would be needed since they don't provide CSV files or something similar), so here I copied
  the data from the PDF they provided with the statistics in them (They also provide an Excel spreadsheet, but it does not
  contain all the data needed). In the future, instead of using a Secondary Source, data can be retrieved directly from the Website
  by seeing employer's search trends in this website when looking for employees, though of course it is a chicken and egg problem, 
  would need users first to use the site to get that data.

    </p>
    <h1 class="display-4">Radar chart</h1>
    <p>
      Here the job-seeker types in their list of specialisations and their skill levels they consider themselves at.
      This is to provide them with a nice radar chart (also known as a spider chart) to really put into perspective
      what areas they are weak in. The idea is that on account registration (unimplemented), job-seekers would put this in,
      and they (both job-seekers of employers) can compare their charts to other profiles' charts to see how they would fit in.
    </p>
    <p>
      Might be worth looking into having a bunch of checkboxes ranging from 0 to 10 instead of entering a number in the future.
    </p>
      <div class="card" id="specialisations_box">
        <input id="add_more" class="btn btn-primary" type="button" value="Add More"><br><br>
        <input id="get_radar" class="btn btn-primary" type="button" value="Get Radar Chart"><br><br>
        <label>Specialisation</label><br>
        <input type="text">
      <br><br>
      <label>Skill Level</label><br>
      <input type="number"><br>
      <br><br>
      </div>
    </div>
  </body>
</html>
